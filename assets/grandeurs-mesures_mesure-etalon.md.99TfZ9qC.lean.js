import{_ as U,p as d,v as K,x as Q,c as D,o as L,e as Z,j as n,k as E,a0 as ee,a2 as te,a3 as ae,t as O,n as ne,P as se,G as oe}from"./chunks/framework.C0mo_YSU.js";const le={class:"exercise-wrapper"},ie={key:0,id:"confettiCanvas",class:"confetti-canvas"},re={class:"menu-overlay"},ce={class:"menu-card"},ue={class:"bottom-bar"},de={class:"answer-section"},ve={class:"answer-input"},fe={class:"answer-display"},_=80,V=40,p=40,he={__name:"MesureEtalon",setup(q){const w=d(null),s=d(null);let a=null;const C=d(!1);let h=[],m=d(""),g=d(""),b=d(!1),M=[],k=null,c=50,v=100,T=!1,N=0,I=0,l=0,i=0,f=0,S=0,u=d(0);function R(){if(!w.value)return;const t=w.value.getBoundingClientRect();s.value.width=t.width,s.value.height=t.height,a=s.value.getContext("2d")}function A(){!s.value||!a||(h=[],m.value="",g.value="",u.value=0,b.value=!1,y(),S=Math.floor(Math.random()*4)+3,f=S*_,l=(s.value.width-f)/2,i=s.value.height/2-p/2,c=l-_-30,v=i,x())}function x(){if(!a||!s.value)return;a.clearRect(0,0,s.value.width,s.value.height),a.fillStyle="#aed6ba",a.fillRect(l,i,f,p),a.strokeStyle="#000",a.lineWidth=3,a.lineCap="round",a.beginPath(),a.moveTo(l,i-8),a.lineTo(l,i+p+8),a.stroke(),a.beginPath(),a.moveTo(l+f,i-8),a.lineTo(l+f,i+p+8),a.stroke(),h.forEach(e=>{a.strokeStyle="#e84f6d",a.lineWidth=3,a.beginPath(),a.moveTo(e.x,i-10),a.lineTo(e.x,i+p+10),a.stroke()});const t=2;a.fillStyle="#fbb90d",a.beginPath(),a.roundRect(c,v,_,V,t),a.fill()}function B(t){const e=s.value.getBoundingClientRect(),r=s.value.width/e.width,o=s.value.height/e.height;return t.touches?{x:(t.touches[0].clientX-e.left)*r,y:(t.touches[0].clientY-e.top)*o}:{x:(t.clientX-e.left)*r,y:(t.clientY-e.top)*o}}function H(t,e){return t>=c&&t<=c+_&&e>=v&&e<=v+V}function X(t){t.preventDefault();const e=B(t);H(e.x,e.y)&&(T=!0,N=e.x-c,I=e.y-v)}function Y(t){if(!T)return;t.preventDefault();const e=B(t);c=e.x-N,v=e.y-I,x()}function P(t){T=!1}function W(){const t=c+_;t>=l&&t<=l+f+5&&(h.some(r=>Math.abs(r.x-t)<10)||(h.push({x:t}),x()))}function G(){h=[],m.value="",g.value="",u.value=0,x()}function j(){u.value++}function $(){u.value>0&&u.value--}function F(){u.value===S?(m.value="üéâ Bravo ! C'est exact !",g.value="success",J()):(m.value="‚ùå Essaie encore !",g.value="error",b.value=!1,y())}function J(){b.value=!0,M=[];const t=["#2bb0a3","#aed6ba","#2e59a6","#53c2e2","#e84f6d","#f19bb1"];for(let e=0;e<150;e++)M.push({x:Math.random()*window.innerWidth,y:-20-Math.random()*100,size:Math.random()*10+5,color:t[Math.floor(Math.random()*t.length)],speedX:(Math.random()-.5)*4,speedY:Math.random()*3+2,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10});se(()=>{z()})}function z(){const t=document.getElementById("confettiCanvas");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight,e.clearRect(0,0,t.width,t.height);let r=0;M.forEach(o=>{o.x+=o.speedX,o.y+=o.speedY,o.rotation+=o.rotationSpeed,o.speedY+=.1,o.y<t.height+20&&(r++,e.save(),e.translate(o.x,o.y),e.rotate(o.rotation*Math.PI/180),e.fillStyle=o.color,e.fillRect(-o.size/2,-o.size/4,o.size,o.size/2),e.restore())}),r>0&&b.value?k=requestAnimationFrame(z):y()}function y(){k&&(cancelAnimationFrame(k),k=null)}return K(()=>{R(),A(),s.value.addEventListener("mousedown",X),s.value.addEventListener("mousemove",Y),s.value.addEventListener("mouseup",P),s.value.addEventListener("mouseleave",P),s.value.addEventListener("touchstart",X,{passive:!1}),s.value.addEventListener("touchmove",Y,{passive:!1}),s.value.addEventListener("touchend",P),window.addEventListener("resize",()=>{R(),A()})}),Q(()=>{y()}),(t,e)=>(L(),D("div",le,[E(b)?(L(),D("canvas",ie)):Z("",!0),n("div",re,[n("div",{class:"menu-toggle",onClick:e[0]||(e[0]=r=>C.value=!C.value)},[...e[2]||(e[2]=[n("span",{class:"burger-line"},null,-1),n("span",{class:"burger-line"},null,-1),n("span",{class:"burger-line"},null,-1)])]),ee(n("div",ce,[n("div",{class:"menu-close",onClick:e[1]||(e[1]=r=>C.value=!1)},"‚úï"),e[3]||(e[3]=ae("",2))],512),[[te,C.value]])]),n("div",{class:"canvas-container",ref_key:"canvasContainer",ref:w},[n("canvas",{ref_key:"canvas",ref:s},null,512)],512),n("div",ue,[n("div",{class:"controls"},[n("button",{class:"btn btn-mark",onClick:W},"Rep√®re"),n("button",{class:"btn btn-clear",onClick:G},"Effacer"),n("button",{class:"btn btn-new",onClick:A},"Nouveau")]),n("div",de,[e[4]||(e[4]=n("div",{class:"answer-label"},"Combien d'√©talons ?",-1)),n("div",ve,[n("button",{class:"btn-counter btn-minus",onClick:$},"‚àí"),n("div",fe,O(E(u)),1),n("button",{class:"btn-counter btn-plus",onClick:j},"+")]),n("button",{class:"btn btn-check",onClick:F},"V√©rifier"),n("div",{class:ne(["feedback",E(g)])},O(E(m)),3)])])]))}},me=U(he,[["__scopeId","data-v-f9092622"]]),_e=JSON.parse('{"title":"","description":"","frontmatter":{"layout":false},"headers":[],"relativePath":"grandeurs-mesures/mesure-etalon.md","filePath":"grandeurs-mesures/mesure-etalon.md"}'),ge={name:"grandeurs-mesures/mesure-etalon.md"},pe=Object.assign(ge,{setup(q){return(w,s)=>(L(),D("div",null,[oe(me)]))}});export{_e as __pageData,pe as default};
